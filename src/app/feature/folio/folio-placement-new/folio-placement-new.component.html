<div class="radio-container">
  <label class="radio-label">
    <input type="radio" name="entryType" [ngModel]="newPlacementType()" (ngModelChange)="newPlacementType.set($event)" value="Caption" />
    Caption
  </label>
  <label class="radio-label">
    <input type="radio" name="entryType" [ngModel]="newPlacementType()" (ngModelChange)="newPlacementType.set($event)" value="MediaUrl" />
    Media URL
  </label>
  <label class="radio-label">
    <input type="radio" name="entryType" [ngModel]="newPlacementType()" (ngModelChange)="newPlacementType.set($event)" value="Folio" />
    Folio
  </label>
</div>

<form [formGroup]="formGroup" (ngSubmit)="onSubmit()" class="form-container">
  <div class="form-row">
    <input class="col1" id="caption" formControlName="caption" type="text" />
    <div class="col2">
      @if (formGroup.get('caption')?.invalid && formGroup.get('caption')?.touched) {
        <label for="caption" class="warning">Entry is required</label>
      } @else {
        <label for="caption">Enter Caption </label>
      }
    </div>

    @if (newPlacementType() === 'MediaUrl') {
      <div class="form-row">
        <textarea class="col1" formControlName="urlAdder" name="urlAdder" id="urlAdder" rows="5" (drop)="onDrop($event)" (input)="onInput($event)"> </textarea>
        <div class="col2">
          <label for="urlAdder">Drop or paste URL </label>
        </div>
      </div>
    }

    <div class="colsBoth">
      <button type="submit" [disabled]="formGroup.invalid">Add {{ newPlacementType() }} to folio {{ folioStore.folioViewSelected().folioName }}</button>
    </div>
    <button class="col1" (click)="test()">Test</button>
    <button class="col2" (click)="cancel()">Cancel / Close</button>
  </div>
</form>

@if (newPlacementType() === 'MediaUrl') {
  <mh5-folio-placement-media [assetView]="assetViewPrepared()" />
}
